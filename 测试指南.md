# 🧪 测试指南

## 快速测试所有新功能

### 准备工作
1. 打开浏览器访问：http://localhost:3000
2. 按 **Cmd+Shift+R**（Mac）或 **Ctrl+Shift+R**（Windows）强制刷新
3. 按 **F12** 打开开发者工具（查看可能的错误）

---

## 测试场景 1：近战牧师（完整流程）

### 目标
测试职业特性选择 + 背景属性加值 + 标准数组拖拽

### 步骤

#### 1️⃣ 基本信息
- 角色名：`圣光勇士`
- 等级：`1`
- 阵营：`守序善良`
- ✅ 点击"下一步"

#### 2️⃣ 选择职业
- 选择：`牧师`
- **技能选择**（应立即弹出）：
  - 选择：`洞悉`、`宗教`
  - ✅ 应显示"技能选择完成"
- **圣职选择**（应自动出现）：
  - 选择：`守护者`（重甲+军用武器）
  - ✅ 应显示"职业设置完成"
- ✅ 点击"下一步"

#### 3️⃣ 选择物种
- 选择：`人类`
- ✅ 点击"下一步"

#### 4️⃣ 选择背景
- 选择：`士兵`
- **自动获得技能**：竞技、威吓
- **属性加值分配**（应自动出现）：
  - 可选：力量、体质、魅力
  - 选择模式：`+2/+1`
  - 分配：力量+2、体质+1
  - ✅ 应显示"属性加值分配完成"
- ✅ 点击"下一步"

#### 5️⃣ 分配属性
- 方法：`标准数组`（默认）
- **拖拽分配**：
  - 力量：拖入 `15`
  - 体质：拖入 `14`
  - 感知：拖入 `13`
  - 魅力：拖入 `12`
  - 敏捷：拖入 `10`
  - 智力：拖入 `8`
- ✅ 检查：所有6个属性应在一屏显示（无需滚动）
- ✅ 应显示"属性分配完成"
- ✅ 点击"下一步"

#### 6️⃣ 技能总览
- 应显示：
  - 职业技能：洞悉、宗教
  - 背景技能：竞技、威吓
  - 总计：4个技能
- ✅ 点击"下一步"

#### 7️⃣ 选择装备
- 添加：长剑、链甲、盾牌、神圣徽记
- ✅ 点击"下一步"

#### 8️⃣ 确认完成
- **检查最终属性**（应包含背景加值）：
  - 力量：17（15基础+2背景）
  - 体质：15（14基础+1背景）
  - 感知：13
- **检查职业特性**：
  - 应显示"圣职选择：守护者"
- ✅ 点击"导出 PDF"测试PDF
- ✅ 点击"完成并保存"

### 预期结果
✅ 所有文字都是中文
✅ 没有报错
✅ 属性计算正确
✅ PDF 格式整洁

---

## 测试场景 2：施法法师（购点法）

### 目标
测试购点法 + 不同的背景选择

### 步骤

#### 1️⃣ 基本信息
- 角色名：`奥术学者`
- 等级：`1`
- 阵营：`中立善良`

#### 2️⃣ 选择职业
- 选择：`法师`
- 技能：`奥秘`、`历史`

#### 3️⃣ 选择物种
- 选择：`精灵`

#### 4️⃣ 选择背景
- 选择：`学者`
- 属性加值（可选：体质、智力、感知）：
  - 模式：`+2/+1`
  - 分配：智力+2、体质+1

#### 5️⃣ 分配属性
- **切换到购点法**：点击"购点法"按钮
- **使用 +/- 按钮分配 27 点**：
  - 智力：`15`（花费 9点）
  - 敏捷：`14`（花费 7点）
  - 体质：`14`（花费 7点）
  - 感知：`10`（花费 2点）
  - 魅力：`9`（花费 1点）
  - 力量：`8`（花费 0点）
- ✅ 应显示"剩余点数：1"（可以继续调整）
- ✅ 检查成本表显示正确

#### 6️⃣-8️⃣ 完成后续步骤

### 预期结果
- ✅ 购点法界面清晰
- ✅ 点数计算正确
- ✅ 属性值限制在 8-15
- ✅ 最终智力：17（15+2）

---

## 测试场景 3：快速测试（各职业）

### 测试所有职业的技能选择

| 职业 | 可选技能数 | 特性选择 |
|------|-----------|----------|
| 野蛮人 | 2 | 无 |
| 吟游诗人 | 3 | 无 |
| 牧师 | 2 | ✅ 圣职 |
| 德鲁伊 | 2 | 无 |
| 战士 | 2 | ✅ 战斗风格 |
| 武僧 | 2 | 无 |
| 圣武士 | 2 | 无 |
| 游侠 | 3 | 无 |
| 游荡者 | 4 | 无 |
| 术士 | 2 | ✅ 术士起源 |
| 邪术师 | 2 | ✅ 契约恩赐 |
| 法师 | 2 | 无 |

### 快速验证
- [ ] 每个职业技能数量限制正确
- [ ] 有特性的职业会弹出特性选择
- [ ] 无特性的职业直接完成

---

## 测试场景 4：所有背景的属性选择

### 测试不同的属性选择范围

选择几个背景，验证可选属性正确：

1. **农夫**：力量、体质、感知 ✅
2. **江湖骗子**：敏捷、智力、魅力 ✅
3. **守卫**：力量、智力、感知 ✅

### 测试两种模式

**+2/+1 模式**：
- 第一个属性最多+2
- 第二个属性+1
- 总共+3

**+1/+1/+1 模式**：
- 三个属性各+1
- 每个最多+1
- 总共+3

---

## 🐛 错误检查清单

### 界面检查
- [ ] 所有文字都是中文（无英文标签）
- [ ] 按钮可点击且有反馈
- [ ] 拖拽功能流畅
- [ ] 无需滚动即可看到所有内容

### 功能检查
- [ ] 职业技能选择有数量限制
- [ ] 背景技能自动添加
- [ ] 背景属性加值必须分配完
- [ ] 标准数组拖拽正常
- [ ] 购点法计算正确
- [ ] 职业特性选择出现（牧师、战士等）

### 数据检查
- [ ] 技能不重复
- [ ] 属性计算正确（基础+背景）
- [ ] 所有选择都保存
- [ ] 刷新页面数据保留

### 导出检查
- [ ] PDF 无乱码
- [ ] 包含背景属性加值
- [ ] 包含职业特性选择
- [ ] 格式整洁专业

---

## 🔍 调试技巧

### 查看控制台错误
```
F12 → Console 标签
查看红色错误信息
```

### 查看网络请求
```
F12 → Network 标签
查看是否有加载失败的资源
```

### 查看 React 组件
```
F12 → Components 标签（需安装 React DevTools）
查看组件状态和 props
```

### 查看本地存储
```
F12 → Application 标签 → Local Storage
查看保存的角色数据
```

---

## ✅ 完整测试报告模板

```
测试日期：____
浏览器：____
设备：____

[ ] 基本信息步骤正常
[ ] 职业选择正常
    [ ] 技能选择有限制
    [ ] 职业特性选择正常（如有）
[ ] 物种选择正常
[ ] 背景选择正常
    [ ] 技能自动添加
    [ ] 属性加值分配正常
[ ] 属性分配正常
    [ ] 标准数组拖拽正常
    [ ] 购点法计算正确
    [ ] 界面紧凑无需滚动
[ ] 技能总览正确显示
[ ] 装备选择正常
[ ] 审核页面显示完整
    [ ] 属性包含背景加值
    [ ] 职业特性显示
[ ] PDF 导出正常
    [ ] 格式整洁
    [ ] 无乱码
    [ ] 包含所有信息
[ ] 数据保存和加载正常

问题记录：
_________________
_________________
```

---

## 🚀 性能测试

### 加载速度
- 首页加载：应 < 1秒
- 创建页加载：应 < 2秒
- 步骤切换：应 < 0.3秒

### 内存使用
- 正常使用：< 100MB
- 创建多个角色：< 200MB

### 移动端测试
- 在手机上测试所有功能
- 检查触摸响应
- 验证布局适配

---

## 📞 报告问题

如发现问题，请记录：
1. **操作步骤**（如何复现）
2. **错误信息**（控制台输出）
3. **预期行为**（应该怎样）
4. **实际行为**（实际发生了什么）
5. **浏览器和设备信息**

---

**祝测试顺利！** 🎲
